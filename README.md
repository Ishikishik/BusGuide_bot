# BusGuide_bot

BusGuide_bot は、緯度・経度をクエリとして送ると、その場所の地名と名物をバスガイド風に紹介してくれるサーバーです。  
現状はローカルでの動作確認用です。外部から使う場合はトンネルや固定 IP 経由でアクセスしてください。

## クエリ仕様

以下の形式でアクセスします：
```
http://localhost:1111/query?x=<緯度>&y=<経度>&auth=<パスワード>&mode=<モード>

- x : 緯度
- y : 経度
- auth : パスワード
- mode : 出力形式（romaji でローマ字、nomal,無指定 で漢字・ひらがな混じり）
```
出力例:
```
http://localhost:1111/query?x=<緯度>&y=<経度>&auth=<パスワード>&mode=<モード>

- x : 緯度
- y : 経度
- auth : パスワード
- mode : 出力形式（romaji でローマ字、nomal,無指定 で漢字・ひらがな混じり）
```

## コード構成

### main.py
- 実際にサーバーを走らせるコード
- クエリの追加や動作変更はここを編集すると面白いです

### library.py
#### coordinates2guide(lat, lon)
- Nominatim で座標から場所を特定
- Gemini API に名物を問い合わせ、紹介文を生成

#### to_romaji(text)
- 入力文章をローマ字に変換
- クエリの最後に mode=romaji を指定すると使用可能

## 環境設定

プロジェクトルートに .env ファイルを作成してください：
```
GEMINI_API_KEY=ゴニョゴニョ  # ご自身の Gemini API キー
VALID_AUTH_CODE=ゴニョゴニョ        # クエリで使用するパスワード

- パスワードや API キーは秘密にしてください
```
## 注意点
- 現状はローカル動作確認用
- 外部で使う場合はポート開放・トンネルなどを用いてください
- ローマ字変換機能は実験的機能です


